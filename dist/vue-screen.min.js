var VueScreen=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function i(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(a,!0).forEach(function(e){var t,r,n;t=i,n=a[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}function a(e){var t=e.split("."),r=parseInt(t[0],10);return{major:"number"==typeof r?r:1,minor:parseInt(t[1],10)||0,patch:parseInt(t[2],10)||0}}var o,c="undefined"!=typeof window,e={bootstrap:{xs:0,sm:576,md:768,lg:992,xl:1200},bulma:{mobile:0,tablet:769,desktop:1024,widescreen:1216,fullhd:1408},foundation:{small:0,medium:640,large:1024},materialize:{s:0,m:601,l:993,xl:1201},"semantic-ui":{mobile:0,tablet:768,computer:992,large:1201},tailwind:{xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536}},s="2.6.0",u=["width","height","touch","portrait","landscape","config"],l={bootstrap:["xs","sm","md","lg","xl"],bulma:["mobile","tablet","desktop","widescreen","fullhd"],foundation:["small","medium","large"],materialize:["s","m","l","xl"],"semantic-ui":["mobile","tablet","computer","large"],tailwind:["xs","sm","md","lg","xl"]},f=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.callbacks={},this.framework="",this.config=r.parseBreakpoints(e),this.createScreen(),this.init()}return function(e,t,r){t&&n(e.prototype,t),r&&n(e,r)}(r,[{key:"init",value:function(){this.attachResize(),this.setScreenSize(),this.checkTouch()}},{key:"attachResize",value:function(){c&&window.addEventListener("resize",function(r,n){var i;return function(){var e=this,t=arguments;clearTimeout(i),i=setTimeout(function(){i=null,r.apply(e,t)},n)}}(this.setScreenSize.bind(this),100))}},{key:"setScreenSize",value:function(){c&&(this.screen.width=window.innerWidth,this.screen.height=window.innerHeight,this.runCallbacks(),this.findCurrentBreakpoint())}},{key:"runCallbacks",value:function(){var t=this;Object.keys(this.callbacks).forEach(function(e){t.screen[e]=t.callbacks[e].call(null,t.screen)})}},{key:"findCurrentBreakpoint",value:function(){var r=this;this.screen.breakpoint=this.config.breakpointsOrder.reduce(function(e,t){return r.screen[t]?t:e},this.config.breakpointsOrder[0])}},{key:"checkTouch",value:function(){c&&(this.screen.touch="ontouchstart"in window)}},{key:"createScreen",value:function(){var t=this,e=Object.keys(this.config).filter(function(e){return"breakpointsOrder"!==e});this.screen=o.observable({width:410,height:730,touch:!0,portrait:!0,landscape:!1,breakpoint:this.config.breakpointsOrder[0],breakpointsOrder:this.config.breakpointsOrder,config:this.config}),this.findCurrentBreakpoint(),e.forEach(function(e){if(0<=u.indexOf(e))throw new Error('Invalid breakpoint name: "'.concat(e,'". This key is reserved.'));o.set(t.screen,e,!1)}),c&&this.initMediaQueries()}},{key:"initMediaQueries",value:function(){var i=this;Object.keys(this.config).filter(function(e){return"breakpointsOrder"!==e}).forEach(function(t){var e=null;if("breakpointsOrder"!==t){var r=i.config[t];"function"==typeof r?i.callbacks[t]=r:"number"==typeof r?e="".concat(r,"px"):"string"==typeof r?e=r:i.screen[t]=r}if(e){var n=window.matchMedia("(min-width: ".concat(e,")"));n.addEventListener("change",function(e){return i.mediaStateChanged(t,e.matches)}),i.mediaStateChanged(t,n.matches)}});var e=window.matchMedia("(orientation: portrait)");e.addEventListener("change",function(e){i.mediaStateChanged("portrait",e.matches),i.mediaStateChanged("landscape",!e.matches)}),this.mediaStateChanged("portrait",e.matches),this.mediaStateChanged("landscape",!e.matches)}},{key:"mediaStateChanged",value:function(e,t){o.set(this.screen,e,t)}}],[{key:"parseBreakpoints",value:function(e){return"object"===t(e)?e.extend?(this.framework=e.extend.toString(),delete e.extend,Object.assign({},e,r.getBreakpoints())):(this.framework="__CUSTOM__",i({breakpointsOrder:Object.keys(e).filter(function(e){return"breakpointsOrder"!==e})},e)):(this.framework=e.toString(),r.getBreakpoints())}},{key:"getBreakpoints",value:function(){if(this.framework||(this.framework="tailwind"),!e[this.framework])throw new Error('Cannot find grid breakpoints for framework "'.concat(this.framework,'"'));return i({},e[this.framework],{breakpointsOrder:l[this.framework]})}},{key:"install",value:function(e,t){if(!function(e,t){var r=a(e),n=a(t);return r.major>n.major||r.major===n.major&&r.minor>n.minor||r.major===n.major&&r.minor===n.minor&&r.patch>=n.patch}((o=e).version,s))throw Error("VueScreen requires at least Vue ".concat(s));o.prototype.$screen=new r(t).screen}}]),r}();return c&&window.Vue&&window.Vue.use(f),f}();
